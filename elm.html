<!DOCTYPE html>
<html lang=”en-GB”>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Elm Architecture Simple Counter</title>
  <link rel="shortcut icon" href="http://www.dwyl.io/images/favicon.ico" type="image/x-icon">
</head>

<body>
  <div id="app"></div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
// ==================================== mount function ====================================

function mount(muv, $root) {
  var model = muv.model,
      update = muv.update,
      view = muv.view;

  // initial state
  var state = model;
  // signal function takes action and returns callback
  var signal = function signal(action) {
    return function () {
      // update state
      state = update(state, action);
      // rerender
      var $dom = view(signal, state);
      $root.empty().append($dom);
    };
  };
  // initial render
  var $dom = view(signal, state);
  $root.empty().append($dom);
}
// ==================================== the component ====================================

var Inc = 'inc'
var Dec = 'dec'

function update(model, action) {
  switch(action) {
    case Inc: return model + 1
    case Dec: return model - 1
    default: return model
  }
}

function view(signal, model) {
  return $('<div/>').append(
  $('<button>+</button>').on('click', signal(Inc)),
  $('<span>'+model+'</span>'),
  $('<button>-</button>').on('click', signal(Dec))
)};

// ==================================== init app ====================================
    
 var initial = {model: 0, update, view};
 mount(initial, $('#app'))
  </script>
</body>
</html>